!function(){function a(){var a=f.length;for(f.reverse();a--;){var c=Array.prototype.slice.call(f[a]),d=c.shift();("authorize"===d||"on"===d||"off"===d)&&b.hasOwnProperty(d)&&(f.splice(a,1),b[d].apply(b,c))}}var b=window["goreact"],c=function(){var a={};return a.clone=function(a){return JSON.parse(JSON.stringify(a))},a}();String.prototype.supplant||(String.prototype.supplant=function(a){return this.replace(/\{([^{}]*)\}/g,function(b,c){var d=a[c];return"string"==typeof d||"number"==typeof d?d:b})});var d=function(a,b,c){function d(a,b){var c,d;d=i[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return i[a]=i[a]||[],i[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(b,c){return b&&b.apply(a,c)}function h(a){if(i[a])for(var b=0,c=i[a],d=c.length;d>b;)g(c[b],arguments),b+=1}var i={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.fire=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.fire=h)},e=function(){function a(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}var b={},c="interlace_",e=0,f="",g=function(a){a.preventDefault()},h=function(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=b?b+"["+d+"]":d,f=a[d];c.push("object"==typeof f?h(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&").replace(/%20/g,"+")},i=function(a,b){b=b||window.location.search;var c="[?&]"+a+"=([^&#]*)",d=new RegExp(c),e=d.exec(b);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},j=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b};b.prefix=function(a){c=a},b.load=function(b){var i=c+(e+=1),k=document.createElement("iframe"),l=b.params||{};l.interlace=i;var m=h(l),n=b.url+(m?"?":"")+m;b.options=b.options||{},k.id=i,k.src=n,k.setAttribute("width","undefined"==typeof b.options.width?"100%":b.options.width),k.setAttribute("height","undefined"==typeof b.options.height?"100%":b.options.height),k.setAttribute("scrolling","no"),k.setAttribute("marginheight","0"),k.setAttribute("frameborder","0"),k.setAttribute("allowtransparency","true"),k.setAttribute("style","display:none"),k.send=function(a,b){var c={};c.id=this.id,c.event=a,c.data=b;var d=JSON.stringify(c);this.contentWindow.postMessage(d,"*")},k.show=function(){"none"===k.parentNode.style.display&&(k.parentNode.style.display=k.$$display)},k.hide=function(){k.$$display||(k.$$display=k.parentNode.style.display,k.parentNode.style.display="none")},k.destroy=function(){document.body.style.overflow=f,document.body.removeEventListener("touchstart",g),document.body.removeEventListener("touchmove",g),k.parentNode.getAttribute("data-interlace")?k.parentNode.parentNode.removeChild(k.parentNode):k.parentNode.removeChild(k),k.fire("destroyed")},k.onload=function(){k.removeAttribute("style"),b.class&&k.setAttribute("class",b.class),k.fire("loaded")},k.setAttribute("data-interlace-frame",i);var o=b.container;a(o)||(o?"object"==typeof o&&(o=document.createElement("div"),o.setAttribute("data-interlace","container-"+i),o.setAttribute("style",j(b.container)),document.body.style.overflow="hidden",document.body.addEventListener("touchstart",g),document.body.addEventListener("touchmove",g),document.body.appendChild(o)):(o=document.createElement("div"),o.setAttribute("data-interlace","container-"+i),o.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%;z-index:99999"),document.body.style.overflow="hidden",document.body.addEventListener("touchstart",g),document.body.addEventListener("touchmove",g),document.body.appendChild(o)));for(var p=o.querySelectorAll("[data-interlace-frame]"),q=p.length;q;)q-=1,p[q].parentNode.removeChild(p[q]);return o.appendChild(k),d(k),k},b.send=function(a,b){var c=i("interlace"),d={};d.id=c,d.event=a,d.data=b;var e=JSON.stringify(d);c&&parent.postMessage(e,"*")},d(b),window.addEventListener("message",function(a){var c=JSON.parse(a.data),d=document.getElementById(c.id);d?d.fire(c.event,c.data):b.fire(c.event,c.data)});var k=i("interlace");return k&&b.send("ready"),b}(),f=b.q||b;b.hasOwnProperty("q")&&(b=window["goreact"]=function(){var a=Array.prototype.slice.call(arguments),c=a.shift();b.hasOwnProperty(c)&&b[c].apply(b,a)}),d(b),b.on("authorize::success",function(){for(var a=f.length,c=0;a>c;c+=1){var d=Array.prototype.slice.call(f[c]),e=d.shift();if(b.hasOwnProperty(e))try{b[e].apply(b,d)}catch(g){}}f.length=0}),setTimeout(a),function(){var a="authorize";b.baseUrl="https://goreact.com",b[a]=function(a,d){e.prefix("widget_");var f=c.clone(a);f.signature=d,a.api_key&&0===a.api_key.indexOf("sb")?b.baseUrl="https://sandbox.goreact.com":a.api_key&&0===a.api_key.indexOf("dev")&&(b.baseUrl="https://dev.goreact.com");var g=e.load({url:b.baseUrl+"/v1/auth",params:f,options:{width:"0px",height:"0px"}});return g.type="authorize",g.on("success",function(a,c){g.destroy(),b.fire("authorize::success",this,c)}),g.on("error",function(a,c){g.destroy(),b.fire("authorize::error",this,c)}),g.id}}(),function(){var a="collaborate",d=340;b[a]=function(f){f=f||{};var g=f.container;delete f.container;var h=e.load({container:g,url:b.baseUrl+"/v1/session",params:c.clone(f)});return h.parentNode&&h.parentNode.getBoundingClientRect().height<d&&(h.parentNode.style.height=d+"px"),h.type=a,h.on("destroy",function(){h.destroy()}),h.on("hide",function(){h.hide()}),h.on("show",function(){h.show()}),h.on("destroyed",function(){b.fire(a+"::destroyed",this)}),h.on("error",function(c,d){b.fire(a+"::error",this,d)}),h.on("sessionReady",function(){b.fire(a+"::ready",this)}),h.id}}(),b.destroy=function(a){var b=document.getElementById(a);b&&b.fire("destroy")},function(){var a="list";b[a]=function(a){return"Not supported yet"}}(),function(){var a="playback",d=340;b[a]=function(f){f=f||{};var g=f.container;delete f.container;var h=e.load({container:g,url:b.baseUrl+"/v1/playback",params:c.clone(f)});return h.parentNode&&h.parentNode.getBoundingClientRect().height<d&&(h.parentNode.style.height=d+"px"),h.type=a,h.on("destroy",function(){h.destroy()}),h.on("hide",function(){h.hide()}),h.on("show",function(){h.show()}),h.on("error",function(c,d){b.fire(a+"::error",this,d)}),h.on("destroyed",function(){b.fire(a+"::destroyed",this)}),h.on("playbackReady",function(){b.fire(a+"::ready",this)}),h.on("playbackOnPlay",function(){b.fire(a+"::play",this)}),h.on("playbackOnPause",function(){b.fire(a+"::pause",this)}),h.on("playbackOnSeek",function(){b.fire(a+"::seek",this)}),h.on("playbackOnBuffer",function(){b.fire(a+"::buffer",this)}),h.on("playbackOnError",function(){b.fire(a+"::playError",this)}),h.id}}(),function(){var a="record",d=340;b[a]=function(f){f=f||{};var g=f.container;delete f.container;var h=e.load({container:g,url:b.baseUrl+"/v1/record",params:c.clone(f)});return h.parentNode&&h.parentNode.getBoundingClientRect().height<d&&(h.parentNode.style.height=d+"px"),h.type=a,h.on("destroy",function(){h.destroy()}),h.on("hide",function(){h.hide()}),h.on("show",function(){h.show()}),h.on("error",function(c,d){b.fire(a+"::error",this,d)}),h.on("destroyed",function(){b.fire(a+"::destroyed",this)}),h.on("recordReady",function(c,d){b.fire(a+"::ready",this,d)}),h.on("recordStart",function(c,d){b.fire(a+"::start",this,d)}),h.on("recordStarted",function(c,d){b.fire(a+"::started",this,d)}),h.on("recordStop",function(c,d){b.fire(a+"::stop",this,d)}),h.on("recordStopped",function(c,d){b.fire(a+"::stopped",this,d)}),h.on("recordPost",function(c,d){b.fire(a+"::post",this,d)}),h.on("recordPostSuccess",function(c,d){b.fire(a+"::postSuccess",this,d)}),h.on("recordPostError",function(c,d){b.fire(a+"::postError",this,d)}),h.on("recordDiscard",function(c,d){b.fire(a+"::discard",this,d)}),h.on("recordDiscardSuccess",function(c,d){b.fire(a+"::discardSuccess",this,d)}),h.on("recordDiscardError",function(c,d){b.fire(a+"::discardError",this,d)}),h.on("recordTimeout",function(c,d){b.fire(a+"::timeout",this,d)}),h.id}}(),function(){var a="upload",d=340;b[a]=function(f){f=f||{};var g=f.container;delete f.container;var h=e.load({container:g,url:b.baseUrl+"/v1/upload",params:c.clone(f)});return h.parentNode&&h.parentNode.getBoundingClientRect().height<d&&(h.parentNode.style.height=d+"px"),h.type=a,h.on("destroy",function(){h.destroy()}),h.on("hide",function(){h.hide()}),h.on("show",function(){h.show()}),h.on("error",function(c,d){b.fire(a+"::error",this,d)}),h.on("destroyed",function(c,d){b.fire(a+"::destroyed",this,d)}),h.on("uploadReady",function(c,d){b.fire(a+"::ready",this,d)}),h.on("uploadActive",function(c,d){b.fire(a+"::active",this,d)}),h.on("uploadFileAdded",function(c,d){b.fire(a+"::fileAdded",this,d)}),h.on("uploadStart",function(c,d){b.fire(a+"::start",this,d)}),h.on("uploadStop",function(c,d){b.fire(a+"::stop",this,d)}),h.on("uploadSubmit",function(c,d){b.fire(a+"::submit",this,d)}),h.on("uploadUserAborted",function(c,d){b.fire(a+"::userAborted",this,d)}),h.on("uploadSuccess",function(c,d){b.fire(a+"::success",this,d)}),h.on("uploadFailed",function(c,d){b.fire(a+"::failed",this,d)}),h.on("uploadPost",function(c,d){b.fire(a+"::post",this,d)}),h.on("uploadPostSuccess",function(c,d){b.fire(a+"::postSuccess",this,d)}),h.on("uploadPostError",function(c,d){b.fire(a+"::postError",this,d)}),h.id}}()}();