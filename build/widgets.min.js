!function(){function a(){for(var a=e.length;a--;){var c=Array.prototype.slice.call(e[a]),d=c.shift();("authorize"===d||"on"===d)&&b.hasOwnProperty(d)&&(e.splice(a,1),b[d].apply(b,c))}}var b=window["goreact"];String.prototype.supplant||(String.prototype.supplant=function(a){return this.replace(/\{([^{}]*)\}/g,function(b,c){var d=a[c];return"string"==typeof d||"number"==typeof d?d:b})});var c=function(a,b,c){function d(a,b){var c,d;d=i[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return i[a]=i[a]||[],i[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(b,c){return b&&b.apply(a,c)}function h(a){if(i[a])for(var b=0,c=i[a],d=c.length;d>b;)g(c[b],arguments),b+=1}var i={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.fire=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.fire=h)},d=function(){function a(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}var b={},d="interlace_",e=0,f=function(a){var b=a?"?":"";for(var c in a)if(a[c].isArray)for(var d=0;d<a[c].length;d++)b+="?"===b?"":"&",b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c][d]);else b+="?"===b?"":"&",b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return b},g=function(a,b){b=b||window.location.search;var c="[?&]"+a+"=([^&#]*)",d=new RegExp(c),e=d.exec(b);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},h=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b};b.prefix=function(a){d=a},b.load=function(b){var g=d+(e+=1),i=document.createElement("iframe"),j=b.params||{};j.interlace=g;var k=b.url+f(j);b.options=b.options||{},i.id=g,i.src=k,i.setAttribute("width","undefined"==typeof b.options.width?"100%":b.options.width),i.setAttribute("height","undefined"==typeof b.options.height?"100%":b.options.height),i.setAttribute("scrolling","no"),i.setAttribute("marginheight","0"),i.setAttribute("frameborder","0"),i.setAttribute("allowtransparency","true"),i.setAttribute("style","display:none"),i.send=function(a,b){b=b||{},b.$$id=this.id,b.$$event=a;var c=JSON.stringify(b);this.contentWindow.postMessage(c,"*")},i.show=function(){"none"===i.parentNode.style.display&&(i.parentNode.style.display=i.$$display)},i.hide=function(){i.$$display||(i.$$display=i.parentNode.style.display,i.parentNode.style.display="none")},i.destroy=function(){i.parentNode.getAttribute("data-ic")?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i),i.fire("destroyed")},i.onload=function(){i.removeAttribute("style"),b.class&&i.setAttribute("class",b.class),i.fire("loaded")};var l=b.container;return a(l)||(l?"object"==typeof l&&(l=document.createElement("div"),l.setAttribute("data-ic","container-"+g),l.setAttribute("style",h(b.container)),document.body.appendChild(l)):(l=document.createElement("div"),l.setAttribute("data-ic","container-"+g),l.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%;z-index:99999"),document.body.appendChild(l))),l.children.length&&l.children[0].destroy(),l.appendChild(i),c(i),i},b.send=function(a,b){var c=(arguments[2],g("interlace"));b=b||{},b.$$id=c,b.$$event=a;var d=JSON.stringify(b);c&&parent.postMessage(d,"*")},c(b),window.addEventListener("message",function(a){var c=JSON.parse(a.data),d=c.$$id,e=c.$$event;delete c.$$id,delete c.$$event;var f=document.getElementById(d);f?f.fire(e,c):b.fire(e,c)});var i=g("interlace");return i&&b.send("ready"),b}(),e=b.q||b;b.hasOwnProperty("q")&&(b=window["goreact"]=function(){var a=Array.prototype.slice.call(arguments),c=a.shift();b.hasOwnProperty(c)&&b[c].apply(b,a)}),c(b),b.on("authorize::success",function(){for(var a=e.length,c=0;a>c;c+=1){var d=Array.prototype.slice.call(e[c]),f=d.shift();if(b.hasOwnProperty(f))try{b[f].apply(b,d)}catch(g){}}e.length=0}),setTimeout(a),b.authorize=function(a,c){d.prefix("widget_");var e=function(a){return JSON.parse(JSON.stringify(a))},f=e(a);f.signature=c,b.baseUrl=a.api_key&&0===a.api_key.indexOf("prod")?"https://goreact.com":"https://dev.goreact.com";var g=d.load({url:b.baseUrl+"/v1/auth",params:f,options:{width:"0px",height:"0px"}});g.type="authorize",g.on("success",function(a,c){g.destroy(),b.fire("authorize::success",this,c)}),g.on("error",function(a,c){g.destroy(),b.fire("authorize::error",this,c)})},function(){var a="collaborate";b[a]=function(c){c=c||{};var e={goreact_id:c.goreact_id},f=c.mode||"view",g=d.load({container:c.container,url:b.baseUrl+"/v1/session/"+f,params:e});g.type=a,g.on("destroy",function(){g.destroy()}),g.on("hide",function(){g.hide()}),g.on("show",function(){g.show()}),g.on("ready",function(){b.fire(a+"::ready",this)}),g.on("destroyed",function(){b.fire(a+"::destroyed",this)})}}(),b.destroy=function(a){var b=document.getElementById(a);b&&b.destroy()},function(){var a="list";b[a]=function(c){c=c||{};var e=d.load({container:c.container,url:b.baseUrl+"/v1/list",params:c.params});e.type=a,e.on("destroy",function(){e.destroy()}),e.on("hide",function(){e.hide()}),e.on("show",function(){e.show()}),e.on("ready",function(){b.fire(a+"::ready",this)}),e.on("destroyed",function(){b.fire(a+"::destroyed",this)})}}(),function(){var a="playback";b[a]=function(c){c=c||{};var e=d.load({container:c.container,url:b.baseUrl+"/v1/playback",params:c.params});e.type=a,e.on("destroy",function(){e.destroy()}),e.on("hide",function(){e.hide()}),e.on("show",function(){e.show()}),e.on("ready",function(){b.fire(a+"::ready",this)}),e.on("destroyed",function(){b.fire(a+"::destroyed",this)})}}(),function(){var a="record";b[a]=function(c){c=c||{};var e=d.load({container:c.container,url:b.baseUrl+"/v1/record",params:c.params});e.type=a,e.on("destroy",function(){e.destroy()}),e.on("hide",function(){e.hide()}),e.on("show",function(){e.show()}),e.on("ready",function(){b.fire(a+"::ready",this)}),e.on("destroyed",function(){b.fire(a+"::destroyed",this)})}}(),function(){var a="upload";b[a]=function(c){c=c||{};var e=d.load({container:c.container,url:b.baseUrl+"/v1/upload",params:c.params});e.type=a,e.on("destroy",function(){e.destroy()}),e.on("hide",function(){e.hide()}),e.on("show",function(){e.show()}),e.on("ready",function(){b.fire(a+"::ready",this)}),e.on("destroyed",function(){b.fire(a+"::destroyed",this)})}}()}();