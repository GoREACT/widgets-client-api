!function(a,b){var c=c||{};c.config={authEndpoint:"/widgets/v2/auth",environments:{dev:"https://dev.goreact.com",sb:"https://sandbox.goreact.com",prod:"https://goreact.com"},api:{record:"/widgets/v2/templates/record",upload:"/widgets/v2/templates/upload",playback:"/widgets/v2/templates/playback",review:"/widgets/v2/templates/review",umc:"/widgets/v2/templates/umc",list:"/widgets/v2/templates/list",pay:"/widgets/v2/templates/pay",editAccount:"/widgets/v2/templates/edit-account",editGroup:"/widgets/v2/templates/edit-group",editActivity:"/widgets/v2/templates/edit-activity",viewActivity:"/widgets/v2/templates/view-activity",listActivities:"/widgets/v2/templates/list-activities"}};var d={},e="object"==typeof a.goreactConfig?a.goreactConfig:{};e.baseUrl=e.baseUrl?e.baseUrl:"";var f=function(){function a(a){return JSON.parse(JSON.stringify(a))}function b(a){return c(arguments,function(b){b!==a&&c(b,function(b,c){a[c]=b})}),a}function c(a,b,d){var e;if(a)if(h(a))for(e in a)"prototype"==e||"length"==e||"name"==e||a.hasOwnProperty&&!a.hasOwnProperty(e)||b.call(d,a[e],e);else if(a.forEach&&a.forEach!==c)a.forEach(b,d);else if(f(a))for(e=0;e<a.length;e++)b.call(d,a[e],e);else for(e in a)a.hasOwnProperty(e)&&b.call(d,a[e],e);return a}function d(a){return"string"==typeof a}function e(a){return"[object Array]"===x.call(a)}function f(a){if(null===a||k(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:d(a)||e(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function g(a){var b;for(b in a)return!1;return!0}function h(a){return"function"==typeof a}function i(a){return null!==a&&"object"==typeof a}function j(a){return"undefined"!=typeof a}function k(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function l(a){return d(a)?a.toLowerCase():a}function m(a){return parseInt(a,10)}function n(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}function o(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=b?b+"["+d+"]":d,f=a[d];c.push("object"==typeof f?o(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&").replace(/%20/g,"+")}function p(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}function q(){var a=m((/msie (\d+)/.exec(l(navigator.userAgent))||[])[1],10);return isNaN(a)&&(a=m((/trident\/.*; rv:(\d+)/.exec(l(navigator.userAgent))||[])[1],10)),a}function r(a){if(8>=y&&(!a.match(/^(get|post|head|put|delete|options)$/i)||!window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw new Error("noxhr","This browser does not support XMLHttpRequest.")}function s(a){return a.replace(z,function(a,b,c,d){return d?c.toUpperCase():c}).replace(A,"Moz$1")}function t(a,b){return b=b||"_",a.replace(B,function(a,c){return(c?b:"")+a.toLowerCase()})}function u(a,b){var c=a,d=document.createElement("a");return y&&(d.setAttribute("href",c),c=d.href),d.setAttribute("href",c),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname}}function v(a,b,e,f,g,h,i){function k(a,c,e,f,g){0===c&&(c=e?200:"file"==u(b).protocol?404:0),c=1223===c?204:c,g=g||"",q()&&d(e)&&"json"===i&&(e=JSON.parse(e)),a(c,e,f,g)}var l,m=-1,n=r(a);if(n.open(a,b,!0),c(g,function(a,b){j(a)&&n.setRequestHeader(b,a)}),n.onreadystatechange=function(){if(n&&4==n.readyState){var a=null,b=null;l!==m&&(a=n.getAllResponseHeaders(),b="response"in n?n.response:n.responseText),k(f,l||n.status,b,a,n.statusText||"")}},h&&(n.withCredentials=!0),i)try{n.responseType=i}catch(o){if("json"!==i)throw o}n.send(e||null)}var w={},x=Object.prototype.toString,y=q();w.clone=a,w.extend=b,w.forEach=c,w.isFunction=h,w.isObject=i,w.isArray=e,w.isArrayLike=f,w.isEmptyObject=g,w.isString=d,w.isDefined=j,w.isWindow=k,w["int"]=m,w.lowercase=l,w.camelcase=s,w.snakecase=t,w.isElement=n,w.serialize=o,w.styleToString=p,w.sendRequest=v;var z=/([\:\-\_]+(.))/g,A=/^moz([A-Z])/,B=/[A-Z]/g;return w}(),g=function(a,b,c){function d(a,b){var c,d;d=i[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return i[a]=i[a]||[],i[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(b,c){return b&&b.apply(a,c)}function h(a){if(i[a])for(var b=0,c=i[a],d=c.length;d>b;)g(c[b],arguments),b+=1}var i={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.fire=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.fire=h)},h=function(){function a(){}var b={},c="widget",d="widget-load-indicator";return a.prototype.getBaseUrl=function(){return e.baseUrl},a.prototype.getAuth=function(){return k},b.load=function(b,h,i){function j(a,b){b=b||{},f.isEmptyObject(b)||(a+=(-1===a.indexOf("?")?"?":"&")+f.serialize(b)),f.sendRequest("GET",a,{},function(a,b){if(200===a){var c=document.createElement("div");c.innerHTML=b;for(var d=[],e=c.getElementsByTagName("script"),f=e.length;f--;){for(var g=document.createElement("script"),h=["type","src","text"],i=0;i<h.length;i++){var j=h[i];e[f][j]&&(g[j]=e[f][j])}d.unshift(g),e[f].parentNode.removeChild(e[f])}for(f=0;f<c.children.length;f++)p.appendChild(c.children[f]);for(f=0;f<d.length;f++)p.lastChild.appendChild(d[f]);o.fire("loadSuccess")}else l(!1),o.fire("loadError")})}function l(a){a?(n=document.createElement("style"),n.type="text/css",n.innerHTML=".widget>.widget-load-indicator{position:absolute;top:50%;margin-top:-20px;margin-left:-20px;left:50%;font-size:20px;width:1em;height:1em;border-radius:50%;text-indent:-9999em;-webkit-animation:load4 1.3s infinite linear;animation:load4 1.3s infinite linear;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0)}@-webkit-keyframes load4{0%,100%{box-shadow:0 -3em 0 .2em #000,2em -2em 0 0 #000,3em 0 0 -1em #000,2em 2em 0 -1em #000,0 3em 0 -1em #000,-2em 2em 0 -1em #000,-3em 0 0 -1em #000,-2em -2em 0 0 #000}12.5%{box-shadow:0 -3em 0 0 #000,2em -2em 0 .2em #000,3em 0 0 0 #000,2em 2em 0 -1em #000,0 3em 0 -1em #000,-2em 2em 0 -1em #000,-3em 0 0 -1em #000,-2em -2em 0 -1em #000}25%{box-shadow:0 -3em 0 -.5em #000,2em -2em 0 0 #000,3em 0 0 .2em #000,2em 2em 0 0 #000,0 3em 0 -1em #000,-2em 2em 0 -1em #000,-3em 0 0 -1em #000,-2em -2em 0 -1em #000}37.5%{box-shadow:0 -3em 0 -1em #000,2em -2em 0 -1em #000,3em 0 0 0 #000,2em 2em 0 .2em #000,0 3em 0 0 #000,-2em 2em 0 -1em #000,-3em 0 0 -1em #000,-2em -2em 0 -1em #000}50%{box-shadow:0 -3em 0 -1em #000,2em -2em 0 -1em #000,3em 0 0 -1em #000,2em 2em 0 0 #000,0 3em 0 .2em #000,-2em 2em 0 0 #000,-3em 0 0 -1em #000,-2em -2em 0 -1em #000}62.5%{box-shadow:0 -3em 0 -1em #000,2em -2em 0 -1em #000,3em 0 0 -1em #000,2em 2em 0 -1em #000,0 3em 0 0 #000,-2em 2em 0 .2em #000,-3em 0 0 0 #000,-2em -2em 0 -1em #000}75%{box-shadow:0 -3em 0 -1em #000,2em -2em 0 -1em #000,3em 0 0 -1em #000,2em 2em 0 -1em #000,0 3em 0 -1em #000,-2em 2em 0 0 #000,-3em 0 0 .2em #000,-2em -2em 0 0 #000}87.5%{box-shadow:0 -3em 0 0 #000,2em -2em 0 -1em #000,3em 0 0 -1em #000,2em 2em 0 -1em #000,0 3em 0 -1em #000,-2em 2em 0 0 #000,-3em 0 0 0 #000,-2em -2em 0 .2em #000}}@keyframes load4{0%,100%{box-shadow:0 -3em 0 .2em #000,2em -2em 0 0 #000,3em 0 0 -1em #000,2em 2em 0 -1em #000,0 3em 0 -1em #000,-2em 2em 0 -1em #000,-3em 0 0 -1em #000,-2em -2em 0 0 #000}12.5%{box-shadow:0 -3em 0 0 #000,2em -2em 0 .2em #000,3em 0 0 0 #000,2em 2em 0 -1em #000,0 3em 0 -1em #000,-2em 2em 0 -1em #000,-3em 0 0 -1em #000,-2em -2em 0 -1em #000}25%{box-shadow:0 -3em 0 -.5em #000,2em -2em 0 0 #000,3em 0 0 .2em #000,2em 2em 0 0 #000,0 3em 0 -1em #000,-2em 2em 0 -1em #000,-3em 0 0 -1em #000,-2em -2em 0 -1em #000}37.5%{box-shadow:0 -3em 0 -1em #000,2em -2em 0 -1em #000,3em 0 0 0 #000,2em 2em 0 .2em #000,0 3em 0 0 #000,-2em 2em 0 -1em #000,-3em 0 0 -1em #000,-2em -2em 0 -1em #000}50%{box-shadow:0 -3em 0 -1em #000,2em -2em 0 -1em #000,3em 0 0 -1em #000,2em 2em 0 0 #000,0 3em 0 .2em #000,-2em 2em 0 0 #000,-3em 0 0 -1em #000,-2em -2em 0 -1em #000}62.5%{box-shadow:0 -3em 0 -1em #000,2em -2em 0 -1em #000,3em 0 0 -1em #000,2em 2em 0 -1em #000,0 3em 0 0 #000,-2em 2em 0 .2em #000,-3em 0 0 0 #000,-2em -2em 0 -1em #000}75%{box-shadow:0 -3em 0 -1em #000,2em -2em 0 -1em #000,3em 0 0 -1em #000,2em 2em 0 -1em #000,0 3em 0 -1em #000,-2em 2em 0 0 #000,-3em 0 0 .2em #000,-2em -2em 0 0 #000}87.5%{box-shadow:0 -3em 0 0 #000,2em -2em 0 -1em #000,3em 0 0 -1em #000,2em 2em 0 -1em #000,0 3em 0 -1em #000,-2em 2em 0 0 #000,-3em 0 0 0 #000,-2em -2em 0 .2em #000}}",p.appendChild(n),m=document.createElement("div"),m.className=d,p.appendChild(m)):(m&&m.parentElement.removeChild(m),n&&n.parentElement.removeChild(n),m=!1,n=!1)}var m,n,o=new a,p=document.createElement("div"),q="";for(i=i||{},p.className=c,p.style.position="relative",p.style.width="100%",p.style.height="100%",g(o),i.hideLoadingIndicator||l(!0),k.isPending()||k.isIdle()?(k.on("success",function(){j(e.baseUrl+b,f.extend({},k.data))}),k.on("error",function(){l(!1)})):k.isSuccess()?j(e.baseUrl+b,f.extend({},k.data)):l(!1),o.show=function(){o.fire("show")},o.hide=function(){o.fire("hide")},o.destroy=function(){o.fire("destroy")},o.on("contentLoaded",function(){l(!1)}),o.on("show",function(){"none"===o.element.parentNode.style.display&&(o.element.parentNode.style.display=q),o.fire("shown")}),o.on("hide",function(){q||(q=o.element.parentNode.style.display,o.element.parentNode.style.display="none"),o.fire("hidden")}),o.on("destroy",function(){o.element.parentNode.removeChild(p),o.fire("destroyed")}),o.on("destroyed",function(){l(!1),o.off()}),f.isElement(h)||(h?"object"==typeof h&&(h=document.createElement("div"),h.setAttribute("style",f.styleToString(h)),document.body.appendChild(h)):(h=document.createElement("div"),h.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%;z-index:99999"),document.body.appendChild(h)));h.firstChild;){var r=h.firstChild;r.widget?r.widget.destroy():h.removeChild(r)}return h.appendChild(p),o.element=p,o.options=i,o.element.widget=o,o},g(b),b}(),i={IDLE:"idle",PENDING:"pending",SUCCESS:"success",ERROR:"error"},j=i.IDLE,k={data:{},isIdle:function(){return j===i.IDLE},isPending:function(){return j===i.PENDING},isSuccess:function(){return j===i.SUCCESS},isError:function(){return j===i.ERROR},getStatus:function(){return j}};g(k),d.authorize=function(a,b){if(!a)throw new Error('Parameter "apiKey" is required');if(!f.isString(a))throw new Error('Parameter "apiKey" must be a string.');if(!b)throw new Error('Parameter "jwt" is required');if(!f.isString(b))throw new Error('Parameter "jwt" must be a string.');if(j=i.PENDING,k.fire(j),!e.baseUrl){var d=new RegExp(Object.keys(c.config.environments).join("|")),g=a.match(d),h=f.isArray(g)?g.shift():!1;h&&0===a.indexOf(h)?e.baseUrl=c.config.environments[h]:e.baseUrl=window.location.protocol+"//"+window.location.host}var l=e.baseUrl+c.config.authEndpoint;return f.sendRequest("GET",l,{},function(a,b){f.isObject(b)?200===a?(f.extend(k.data,{"transient":b["transient"]}),j=i.SUCCESS,k.fire(j,b.message)):(j=i.ERROR,k.fire(j,b.message)):(j=i.ERROR,k.fire(j,"An unknown error occurred"))},{Authorization:"Bearer "+['apiKey="'+a+'"','jwt="'+b+'"'].join(", ")},!1,"json"),k},function(){f.forEach(c.config.api,function(a,b){d[b]=function(c,d){var e=h.load(a,c,d);return e.element.className+=" "+f.snakecase(e.element.className+"-"+b,"-"),e}})}(),a["goreact"]=d}(this);