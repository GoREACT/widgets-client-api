!function(a,b){var c=c||{};c.config={widgetsUrl:"https://d3gw3t0696ua5r.cloudfront.net/widgets/v2/widgets.min.js",environments:{local:"https://192.168.33.10",dev:"https://dev.goreact.com",sb:"https://sandbox.goreact.com",prod:"https://goreact.com"},api:{authorize:"/v2/widgets/auth",record:"/v2/widgets/record",upload:"/v2/widgets/upload",list:"/v2/widgets/list",playback:"/v2/widgets/playback",review:"/v2/widgets/session",umc:""}};var d={},e="object"==typeof a.goreactConfig?a.goreactConfig:{};e.baseUrl=e.baseUrl?e.baseUrl:"";var f=function(){function a(a){return JSON.parse(JSON.stringify(a))}function b(a){return c(arguments,function(b){b!==a&&c(b,function(b,c){a[c]=b})}),a}function c(a,b,d){var e;if(a)if(h(a))for(e in a)"prototype"==e||"length"==e||"name"==e||a.hasOwnProperty&&!a.hasOwnProperty(e)||b.call(d,a[e],e);else if(a.forEach&&a.forEach!==c)a.forEach(b,d);else if(f(a))for(e=0;e<a.length;e++)b.call(d,a[e],e);else for(e in a)a.hasOwnProperty(e)&&b.call(d,a[e],e);return a}function d(a){return"string"==typeof a}function e(a){return"[object Array]"===v.call(a)}function f(a){if(null===a||k(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:d(a)||e(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function g(a){var b;for(b in a)return!1;return!0}function h(a){return"function"==typeof a}function i(a){return null!==a&&"object"==typeof a}function j(a){return"undefined"!=typeof a}function k(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function l(a){return d(a)?a.toLowerCase():a}function m(a){return parseInt(a,10)}function n(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}function o(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=b?b+"["+d+"]":d,f=a[d];c.push("object"==typeof f?o(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&").replace(/%20/g,"+")}function p(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b}function q(){var a=m((/msie (\d+)/.exec(l(navigator.userAgent))||[])[1],10);return isNaN(a)&&(a=m((/trident\/.*; rv:(\d+)/.exec(l(navigator.userAgent))||[])[1],10)),a}function r(a){if(8>=w&&(!a.match(/^(get|post|head|put|delete|options)$/i)||!window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw new Error("noxhr","This browser does not support XMLHttpRequest.")}function s(a,b){var c=a,d=document.createElement("a");return w&&(d.setAttribute("href",c),c=d.href),d.setAttribute("href",c),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname}}function t(a,b,d,e,f,g,h){function i(a,c,d,e,f){0===c&&(c=d?200:"file"==s(b).protocol?404:0),c=1223===c?204:c,f=f||"",a(c,d,e,f)}var k,l=-1,m=r(a);if(m.open(a,b,!0),c(f,function(a,b){j(a)&&m.setRequestHeader(b,a)}),m.onreadystatechange=function(){if(m&&4==m.readyState){var a=null,b=null;k!==l&&(a=m.getAllResponseHeaders(),b="response"in m?m.response:m.responseText),i(e,k||m.status,b,a,m.statusText||"")}},g&&(m.withCredentials=!0),h)try{m.responseType=h}catch(n){if("json"!==h)throw n}m.send(d||null)}var u={},v=Object.prototype.toString,w=q();return u.clone=a,u.extend=b,u.forEach=c,u.isFunction=h,u.isObject=i,u.isArray=e,u.isArrayLike=f,u.isEmptyObject=g,u.isString=d,u.isDefined=j,u.isWindow=k,u["int"]=m,u.lowercase=l,u.isElement=n,u.serialize=o,u.styleToString=p,u.sendRequest=t,u}(),g=function(a,b,c){function d(a,b){var c,d;d=i[a],d&&(b?(c=d.indexOf(b),-1!==c&&d.splice(c,1)):d.length=0)}function e(a,b){return i[a]=i[a]||[],i[a].push(b),function(){d(a,b)}}function f(c,f){function g(){d(c,g),f.apply(b||a,arguments)}return e(c,g)}function g(b,c){return b&&b.apply(a,c)}function h(a){if(i[a])for(var b=0,c=i[a],d=c.length;d>b;)g(c[b],arguments),b+=1}var i={};b&&c?(a.on=b[c.on]&&b[c.on].bind(b),a.off=b[c.off]&&b[c.off].bind(b),a.once=b[c.once]&&b[c.once].bind(b),a.fire=b[c.dispatch].bind(b)):(a.on=e,a.off=d,a.once=f,a.fire=h)},h=function(){var a={},b="widget_",c="widget-container",d=0;return a.create=function(a){var e=document.createElement("div"),h="";e.id=b+(d+=1),e.className=c,e.style.position="relative",e.style.width="100%",e.style.height="100%",g(e),e.show=function(){"none"===e.parentNode.style.display&&(e.parentNode.style.display=h),e.fire("shown")},e.hide=function(){h||(h=e.parentNode.style.display,e.parentNode.style.display="none"),e.fire("hidden")};var i,j;e.showLoading=function(a){a?(j=document.createElement("style"),j.type="text/css",j.innerHTML=".widget-container .load{position:absolute;width:600px;height:36px;left:50%;top:40%;margin-left:-300px;overflow:visible;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;z-index:9999}.widget-container .load div{position:absolute;width:20px;height:36px;opacity:0;font-family:Helvetica,Arial,sans-serif;animation:move 2.5s linear infinite;-o-animation:move 2.5s linear infinite;-moz-animation:move 2.5s linear infinite;-webkit-animation:move 2.5s linear infinite;transform:rotate(180deg);-o-transform:rotate(180deg);-moz-transform:rotate(180deg);-webkit-transform:rotate(180deg);font-size:14pt;color:#333}.widget-container .load div:nth-child(2){animation-delay:.2s;-o-animation-delay:.2s;-moz-animation-delay:.2s;-webkit-animation-delay:.2s}.widget-container .load div:nth-child(3){animation-delay:.4s;-o-animation-delay:.4s;-webkit-animation-delay:.4s}.widget-container .load div:nth-child(4){animation-delay:.6s;-o-animation-delay:.6s;-moz-animation-delay:.6s;-webkit-animation-delay:.6s}.widget-container .load div:nth-child(5){animation-delay:.8s;-o-animation-delay:.8s;-moz-animation-delay:.8s;-webkit-animation-delay:.8s}.widget-container .load div:nth-child(6){animation-delay:1s;-o-animation-delay:1s;-moz-animation-delay:1s;-webkit-animation-delay:1s}.widget-container .load div:nth-child(7){animation-delay:1.2s;-o-animation-delay:1.2s;-moz-animation-delay:1.2s;-webkit-animation-delay:1.2s}@keyframes move{0%{left:0;opacity:0}35%{left:41%;-moz-transform:rotate(0);-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0);opacity:1}65%{left:59%;-moz-transform:rotate(0);-webkit-transform:rotate(0);-o-transform:rotate(0);transform:rotate(0);opacity:1}100%{left:100%;-moz-transform:rotate(-180deg);-webkit-transform:rotate(-180deg);-o-transform:rotate(-180deg);transform:rotate(-180deg);opacity:0}}@-moz-keyframes move{0%{left:0;opacity:0}35%{left:41%;-moz-transform:rotate(0);transform:rotate(0);opacity:1}65%{left:59%;-moz-transform:rotate(0);transform:rotate(0);opacity:1}100%{left:100%;-moz-transform:rotate(-180deg);transform:rotate(-180deg);opacity:0}}@-webkit-keyframes move{0%{left:0;opacity:0}35%{left:41%;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}65%{left:59%;-webkit-transform:rotate(0);transform:rotate(0);opacity:1}100%{left:100%;-webkit-transform:rotate(-180deg);transform:rotate(-180deg);opacity:0}}@-o-keyframes move{0%{left:0;opacity:0}35%{left:41%;-o-transform:rotate(0);transform:rotate(0);opacity:1}65%{left:59%;-o-transform:rotate(0);transform:rotate(0);opacity:1}100%{left:100%;-o-transform:rotate(-180deg);transform:rotate(-180deg);opacity:0}}",e.appendChild(j),i=document.createElement("div"),i.className="load",f.forEach(["G","N","I","D","A","O","L"],function(a){var b=document.createElement("div");b.innerText=a,i.appendChild(b)}),e.appendChild(i)):(i&&i.parentElement.removeChild(i),j&&j.parentElement.removeChild(j))},e.destroy=function(){e.parentNode.removeChild(e),e.fire("destroyed")},e.on("destroyed",function(){e.off()});var k=a.container;for(f.isElement(k)||(k?"object"==typeof k&&(k=document.createElement("div"),k.setAttribute("data-widget","container-"+e.id),k.setAttribute("style",f.styleToString(a.container)),document.body.appendChild(k)):(k=document.createElement("div"),k.setAttribute("data-widget","container-"+e.id),k.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%;z-index:99999"),document.body.appendChild(k)));k.firstChild;){var l=k.firstChild;l.destroy()}return k.appendChild(e),e},a.getContent=function(a,b,c){c=c||{},f.isEmptyObject(c)||(b+=(-1===b.indexOf("?")?"?":"&")+f.serialize(c)),f.sendRequest("GET",b,{},function(b,c){var d=document.createElement("div");d.innerHTML=c;for(var e=[],f=d.getElementsByTagName("script"),g=f.length;g--;){for(var h=document.createElement("script"),i=["type","src","text"],j=0;j<i.length;j++){var k=i[j];f[g][k]&&(h[k]=f[g][k])}e.push(h),f[g].parentNode.removeChild(f[g])}for(g=0;g<d.children.length;g++)a.appendChild(d.children[g]);for(g=0;g<e.length;g++)a.lastChild.appendChild(e[g]);a.fire("loaded")})},g(a),a}(),i=!1,j={};d.authorize=function(a,b){function d(a){f.isObject(a)&&a["transient"]&&(f.extend(j,{"transient":a["transient"]}),delete a["transient"])}var h=f.clone(a);h.signature=b;var k={PENDING:"pending",SUCCESS:"success",ERROR:"error"},l=k.PENDING;if(i={isPending:function(){return l===k.PENDING},isSuccess:function(){return l===k.SUCCESS},isError:function(){return l===k.ERROR},getStatus:function(){return l}},g(i),!e.baseUrl){if(!a.api_key)throw new Error('Parameter "api_key" is a required');var m=c.config.environments[a.api_key];m?e.baseUrl=m:e.baseUrl=c.config.environments.local}var n=e.baseUrl+c.config.api.authorize;return f.isEmptyObject(h)||(n+=(-1===n.indexOf("?")?"?":"&")+f.serialize(h)),f.sendRequest("GET",n,{},function(a,b){b?200===a?(d(b),l=k.SUCCESS,i.fire(l,b.message)):(l=k.ERROR,i.fire(l,b.message)):(l=k.ERROR,i.fire(l,"An unknown error occurred"))},{},!1,"json"),i},function(){f.forEach(c.config.api,function(a,b){"authorize"!==b&&(d[b]=function(c){if(!f.isObject(i))throw new Error('The "authorize" method must be called first');var d=e.baseUrl+a,g=c.container;c=f.clone(c)||{},delete c.container;var k=h.create({container:g});return k.type=b,k.on("hide",function(){k.hide()}),k.on("show",function(){k.show()}),k.on("ready",function(){k.showLoading(!1)}),k.on("destroy",function(){k.destroy()}),k.showLoading(!0),i.isPending()?(i.once("success",function(){h.getContent(k,d,f.extend(c,j))}),i.once("error",function(){k.showLoading(!1)})):i.isSuccess()?h.getContent(k,d,f.extend(c,j)):k.showLoading(!1),k})})}(),a["goreact"]=d}(this);