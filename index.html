<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="viewport" content="minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">

    <title>widgets-js-api by GoREACT</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
    <header>
        <h1>widgets-js-api</h1>

        <p>A JavaScript loader and API for interfacing with GoREACT widgets in a website or web application.</p>

        <p class="view"><a href="https://github.com/GoREACT/widgets-js-api">View the Project on GitHub
        </a></p>


        <ul>
            <li><a href="https://github.com/GoREACT/widgets-js-api/zipball/master">Download <strong>ZIP
                File</strong></a></li>
            <li><a href="https://github.com/GoREACT/widgets-js-api/tarball/master">Download <strong>TAR
                Ball</strong></a></li>
            <li><a href="https://github.com/GoREACT/widgets-js-api">View On <strong>GitHub</strong></a></li>
        </ul>
    </header>
    <section>
        <h3 style="text-align: center">
            <a name="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages">
                <span class="octicon octicon-link"></span></a>Widgets Example
        </h3>


        <div style="padding: 15px;padding-top: 0;text-align: center">
            <div id="record_btn" class="btn btn-primary">Record</div>
            <div id="upload_btn" class="btn btn-primary">Upload</div>
            <div id="list_btn" class="btn btn-primary">List</div>
            <div id="playback_btn" class="btn btn-primary">Playback</div>
            <div id="collaborate_btn" class="btn btn-primary">Collaborate</div>

            <div class="btn-group" style="padding: 15px">
                <button id="container_btn" type="button" class="btn btn-default active">Container</button>
                <button id="fs_btn" type="button" class="btn btn-default">Full Screen</button>
            </div>
        </div>

        <div id="containerEl" style="width: 640px;height: 480px;margin: 0 auto"></div>

    </section>
    <footer>
        <p>This project is maintained by <a href="https://github.com/GoREACT">GoREACT</a></p>
    </footer>
</div>
<script src="javascripts/scale.fix.js"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://rawgit.com/GoREACT/widgets-js-api/master/build/embedded-dot-syntax.js"></script>
<script>

    // references to DOM elements
    var $containerBtn = $('#container_btn');
    var $fullScreenBtn = $('#fs_btn');
    var $recordBtn = $('#record_btn');
    var $uploadBtn = $('#upload_btn');
    var $listBtn = $('#list_btn');
    var $playbackBtn = $('#playback_btn');
    var $collaborateBtn = $('#collaborate_btn');
    var $containerEl = $('#containerEl');

    var activeContainer = $containerEl[0];

    $recordBtn.click(function () {
        goreact.record({container: activeContainer});
    });

    $uploadBtn.click(function () {
        goreact.upload({container: activeContainer});
    });

    $listBtn.click(function () {
        goreact.list({container: activeContainer});
    });

    $playbackBtn.click(function () {
        goreact.playback({container: activeContainer});
    });

    $collaborateBtn.click(function () {
        goreact.collaborate({container: activeContainer});
    });

    $containerBtn.click(function () {
        activeContainer = $containerEl[0];
        $containerBtn.addClass('active');
        $fullScreenBtn.removeClass('active');
    });

    $fullScreenBtn.click(function () {
        activeContainer = null;
        $containerBtn.removeClass('active');
        $fullScreenBtn.addClass('active');
    });

    // :: goreact setup ::
    var signature = '5eb63bbbe01eeed093cb22bb8f5acdc3';
    var expires = 1413496405;
    var settings = {
        api_key: "9plmvlph",
        user_id: "5432b03462ccc7ea7bcc2c41",
        first_name: "John",
        last_name: "Smith",
        email: "john.smith@myexample.com",
        context_id: "5432b0923ea55a487d96b076",
        context_name: "Business Ed",
        context_role: "instructor",
        expires: expires
    };
    goreact.authorize(settings, signature);

    goreact.record({
        title: 'My Recording',
        container: $containerEl[0]
    });

    goreact.on('authorize::success', function (evt, widget) {
        console.log(evt, widget.id, widget.type);
    });

    goreact.on('record::ready', function (evt, widget) {
        console.log(evt, widget.id, widget.type);
    });

    goreact.on('record::destroyed', function (evt, widget) {
        console.log(evt, widget.id, widget.type);
    });

</script>
</body>
</html>
